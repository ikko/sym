graph
    subgraph "Symbol Scheduling Mechanism"
        A[ScheduledJob] --> B{Scheduler.add_job#40#41};
        B -- "Adds to" --> C[Min-Heap #40_schedule#41];
        C -- "Stores in" --> D[Job Map #40job_map#41];
        D -- "Persists #40Optional#41" --> E[Schedule File];
    end

    subgraph "Scheduler Execution #40_run#40#41#41"
        F[Scheduler.start#40#41] --> G{Main Loop #40Thread#41};
        G -- "Periodically Checks" --> H[Next Job in Heap];
        H -- "Time to Run" --> I[Execute Job #40func#41];
        I -- "If Recurring" --> J[Recalculate next_run];
        J --> B;
        I -- "If One-Off" --> K[Remove from Job Map];
    end

    subgraph "Job Definition #40ScheduledJob#41"
        L[Callable Function] --> M[func];
        N[Arguments] --> O[args, kwargs];
        P[Schedule #40cron, datetime, Symbol#41] --> Q[schedule];
        Q -- "Calculates" --> R[next_run];
    end

    subgraph "Benefits"
        S[Automated Task Execution] --> T[Reliable Operations];
        U[Flexible Scheduling] --> V[Supports Diverse Timings];
        W[Decoupled Logic] --> X[Separates Task from Execution];
        Y[Persistence] --> Z[Survives Restarts];
    end

    %% Core Scheduling Mechanism - Dark blue theme
    style A fill:#0a3d91,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style B fill:#0a3d91,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style C fill:#0a3d91,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style D fill:#0a3d91,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style E fill:#0a3d91,stroke:#333,stroke-width:2px,color:#FFFFFF;
    
    %% Execution Flow - Purple theme
    style F fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style G fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style H fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style I fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style J fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style K fill:#5a0598,stroke:#333,stroke-width:2px,color:#FFFFFF;
    
    %% Job Definition - Green theme
    style L fill:#0a8c3e,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style M fill:#0a8c3e,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style N fill:#0a8c3e,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style O fill:#0a8c3e,stroke:#333,stroke-width:2px,color:#FFFFFF;
    
    %% Schedule-related - Teal theme
    style P fill:#0a8c8c,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style Q fill:#0a8c8c,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style R fill:#0a8c8c,stroke:#333,stroke-width:2px,color:#FFFFFF;
    
    %% Benefits - Orange/Red theme
    style S fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style T fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style U fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style V fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style W fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style X fill:#d45e00,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style Y fill:#da0b47,stroke:#333,stroke-width:2px,color:#FFFFFF;
    style Z fill:#da0b47,stroke:#333,stroke-width:2px,color:#FFFFFF;
